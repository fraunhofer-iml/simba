<!--
  ~ Copyright Fraunhofer Institute for Material Flow and Logistics
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License").
  ~ For details on the licensing terms, see the LICENSE file.
  ~ SPDX-License-Identifier: Apache-2.0
  -->

<mat-drawer-container class="sidebar-container" autosize>
  <mat-drawer mode="side" opened disableClose="true">
    <div class="drawer-content-container">
      <div class="title">
        @if (!titleLogoUrl) {
          <mat-icon fontSet="material-symbols-outlined">pets</mat-icon>
          <p>{{ 'Sidebar.ProjectName' | translate }}</p>
        } @else {
          <img class="logo" src="{{ titleLogoUrl }}" alt="title-logo" />
        }
        <div class="language-button-container">
          <button mat-icon-button [matMenuTriggerFor]="menu">
            <div class="image">
              <mat-icon fontSet="material-symbols-outlined">language</mat-icon>
            </div>
          </button>
          <mat-menu #menu="matMenu">
            @for (language of languages; track language) {
              <button mat-menu-item (click)="setLanguage(language.label)">
                <mat-icon fontSet="material-symbols-outlined">label</mat-icon>
                {{ language.label }}
              </button>
            }
          </mat-menu>
        </div>
      </div>
      <mat-divider></mat-divider>
      <mat-selection-list class="selection-list">
        <mat-list-item [routerLink]="ROUTING.orders" routerLinkActive="active">
          <div class="image">
            <mat-icon fontSet="material-symbols-outlined">orders</mat-icon>
            {{ 'Sidebar.Orders' | translate }}
          </div>
        </mat-list-item>
        <mat-list-item [routerLink]="ROUTING.production" routerLinkActive="active">
          <div class="image">
            <mat-icon fontSet="material-symbols-outlined">precision_manufacturing</mat-icon>
            {{ 'Sidebar.Production' | translate }}
          </div>
        </mat-list-item>
        <mat-list-item [routerLink]="ROUTING.receivables" routerLinkActive="active">
          <div class="image">
            <mat-icon fontSet="material-symbols-outlined">wallet</mat-icon>
            {{ 'Sidebar.Receivables' | translate }}
          </div>
        </mat-list-item>
      </mat-selection-list>
      <div class="footer">
        <div class="user-container">
          <div class="user-information">
            <mat-icon fontSet="material-symbols-outlined" class="account-icon">account_circle</mat-icon>
            <span> {{ userName }} </span>
          </div>
          <button mat-icon-button (click)="logout()" (keydown)="logout()" aria-label="Logout">
            <mat-icon fontSet="material-symbols-outlined">logout</mat-icon>
          </button>
        </div>
        <div class="site-policies">
          <a class="site-policies-links" href="/imprint"> {{ 'Sidebar.Imprint' | translate }} </a>
          <a class="site-policies-links" href="/privacy-policy"> {{ 'Sidebar.PrivacyPolicy' | translate }} </a>
        </div>
        <div class="logos-container">
          <img class="logo" src="{{ subLogoOne }}" alt="logo one" *ngIf="subLogoOne" />
          <img class="logo" src="{{ subLogoTwo }}" alt="logo two" *ngIf="subLogoTwo" />
        </div>
      </div>
    </div>
  </mat-drawer>
  <mat-drawer-content>
    <ng-content></ng-content>
  </mat-drawer-content>
</mat-drawer-container>
